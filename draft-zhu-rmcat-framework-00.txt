



RMCAT WG                                                          X. Zhu
Internet-Draft                                             Cisco Systems
Intended status: Informational                                 Z. Sarker
Expires: January 3, 2017                                     Ericsson AB
                                                           July 02, 2016


     Framework for Real-time Media Congestion Avoidance Techniques
                      draft-zhu-rmcat-framework-00

Abstract

   Congestion control is an essential element in ensuring fair bandwidth
   usage and preventing congestion collapse for traffic sharing the
   Internet.  For interactive real-time media traffic such as video
   conferencing, design of congestion control solution also needs to
   account for many other factors such as the requirement for low
   latency packet delivery and interactions with live video encoder.
   This document describes a common framework with the core functional
   building blocks for a real-time media congestion solutions.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 3, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Zhu & Sarker             Expires January 3, 2017                [Page 1]

Internet-Draft               RMCAT framework                   July 2016


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Key Words for Requirements  . . . . . . . . . . . . . . . . .   2
   3.  Functional Modules  . . . . . . . . . . . . . . . . . . . . .   2
   4.  Example Configurations  . . . . . . . . . . . . . . . . . . .   4
     4.1.  Example Configurations for a Single Stream  . . . . . . .   4
     4.2.  Example Configurations for Multiple Streams . . . . . . .   5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   6
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   Given increasing amount of interactive real-time media traffic over
   the Internet, such as video conferencing, it is important that these
   applications employ proper congestion control mechanisms to avoid
   congestion collapse.  [I-D.ietf-rmcat-cc-requirements] specifies the
   list of requirements of a viable solution.

   This document outlines a common framework for designing a congestion
   control mechanism for real-time interactive communication. [ Editor's
   note : This document does not describe the interaction between
   application , codec and congestion control system.  The interaction
   among application, codec and congestion control system are define in
   other documents.  There is a possibility to merge all the documents
   into one single document. ]

2.  Key Words for Requirements

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

3.  Functional Modules

   A viable solution for real-time media congestion control needs to
   comprise of several common modules.  This section provides a brief
   description of them and their respective functionalities.  A



Zhu & Sarker             Expires January 3, 2017                [Page 2]

Internet-Draft               RMCAT framework                   July 2016


   congestion control solution for real-time media should comprise of
   the described functional modules.  This should help understanding
   different congestion control solutions.

   o  Network Congestion Controller : this is the core module for
      estimating available bandwidth over the network based on periodic
      RTCP feedback reports [RFC3550] from the receiver.  Input of this
      module include periodic RTCP feedback reports as well as shared
      states of other flows in the same application sharing the same
      transport bottleneck.  Output of this module is the estimated
      available bandwidth.  This module contains key functions and
      calculations required to detect congestion and estimate available
      bandwidth on the transmission path based on the receiption quality
      of the media traffic.  Different congestion control solutions
      employ different algorithms in detecting congestion and estimating
      available bandwidth for its media flow.  It also possible that
      multiple media streams are multiplexed over a single transport,
      hence share the same congestion control module in aggregation.

   o  Transmission Queue : this module is needed to absorb the
      instantaneous mismatch between output from a live video encoder
      and regulated outgoing traffic.  The transmission queue schedules
      outgoing traffic according to sending rate recommended by a rate
      controller module.  It reports back its occupancy level to the
      rate controller module to assist the future rate control decisions
      on target video rate, sending rate, and probing rate.

   o  Rate Controller : this module takes the estimated available
      bandwidth from the network congestion control module, shared
      states of other flows, as well as occupancy level of the
      transmission queue as input.  It makes holistic decisions on: a)
      target video rate for the live video encoder; b) sending rate for
      regulating outgoing traffic for the transmission queue; and c)
      rate of probing packets when needed.  In the case where multiple
      media streams share a single transport and a common network
      congestion controller (for estimating available bandwidth in
      aggregation), the controller is also responsible for distributing
      available bandwidth amongst different media streams according to
      their relative priorities and based on shared state information.

   o  Network Probe : A congestion control solution can use probing to
      estimate the available bandwidth on the media transmission path.
      This can be specially effective when increasing the transmission
      rate.  The solution can use different techniques for probing the
      network - for example it can use simple dummy packet with unknown
      payload type or use Forward Error Correction (FEC) packets.  The
      network probe module is responsible for such packet generation.
      While this document does not specify what probing technique to use



Zhu & Sarker             Expires January 3, 2017                [Page 3]

Internet-Draft               RMCAT framework                   July 2016


      or how those packets should be generated, a complete congestion
      control solution needs to specify total rate of the probe packets
      to the rate controller module.

   o  Live Video Encoder : the sender typically also contains a live
      video encoder, which adjusts the its encoding parameters according
      to the target video rate set by the rate controller.  The output
      rate from the video encoder may deviate from this target due to
      uncertainty in the captured video content characteristics and the
      encoder rate control process.  Note that internal operations of
      the video encoder (i.e., how video encoder rate control works) is
      out of scope for this document.

4.  Example Configurations

4.1.  Example Configurations for a Single Stream


                                                      RTCP Feedback
   +---------+                       +-------------+   Reports
   |  Live   |                       |   Network   |<----------------
   |  Video  |<----------------+     |  Congestion |
   | Encoder |                 |     |  Controller |<------+
   +---------+                 |     +-------------+       |  Shared
       ||                      |            |(1)           |  States
       ||                      |            |              +----------
       ||                      |           \|/             |
       ||    +--------------+  |  (4) +-------------+      |
       ||    |   Network    |  +------|    Rate     |<-----+
       ||    |    probe     |<--------| Controller  |
       ||    |              |    (5)  +-------------+
       ||    +--------------+          (3)|   /|\
       ||           ||                    |    |
       ||           || FEC/Padding       \|/   |(2)
       ||           || Packets       +---------------+
       ||           \\=============> |  Transmission |
       \\==========================> |      Queue    |==============>
           Encoded Video Packets     +---------------+   Outgoing
                                                          Packets


      Figure 1: RMCAT Solution Framework at the Sender: Single Stream

   Figure 1 shows an example configuration at the sender for supporting
   a single media stream.  The Network Congestion Controller estimates
   available bandwidth based on periodic RTCP feedback reports and
   shared states about other streams.  The Rate Controller takes the
   estimated available bandwidth (1) , the current occupancy level of



Zhu & Sarker             Expires January 3, 2017                [Page 4]

Internet-Draft               RMCAT framework                   July 2016


   the Transmission Queue (2), as well as the shared states on other
   flows as inputs and calculates sending rate (3) for the Transmission
   Queue.  It then distributes the sending rate between the live video
   encoder as target encoding rate (4), and rate of probe packets (5) if
   they are needed.  The Transmission Queue holds output packets from
   both the Live Video Encoder and the Network Probe, and regulates its
   outgoing traffic according to the sending rate (3) specified by Rate
   Controller.

   Obviously, it is possible for a congestion control solution to
   contain alternative configurations (wirings) between the functional
   modules.  It is required that the candidate solution draft specify
   how they align to this framework.

4.2.  Example Configurations for Multiple Streams


                                                      RTCP Feedback
   +---------+                       +-------------+   Reports
   |  Live   |                       |   Network   |<----------------
   |  Video  |<----------------+     |  Congestion |
   | Encoder |                 |     |  Controller |<------+
   +---------+                 |     +-------------+       |  Shared
       ||                      |            |(1)           |  States
       ||                      |            |              +----------
       ||                      |           \|/             |
       ||                      |  (4) +-------------+      |
       ||      +---------+     +------|    Rate     |<-----+
       ||      |  Live   |     |      | Controller  |
       ||      |  Video  |<----+      +-------------+
       ||      | Encoder |             (3)|   /|\
       ||      +---------+                |    |
       ||          ||                    \|/   |(2)
       ||          ||                +---------------+
       ||          ||                |  Transmission |
       \\==========================> |      Queue    |==============>
           Encoded Video Packets     +---------------+   Outgoing
                                                          Packets


    Figure 2: RMCAT Solution Framework at the Sender: Multiple Streams

   Figure 2 shows an example configuration for multiple video streams
   sharing a common Network Congestion Controller.  The Network
   Congestion Controller calculates an aggregated estimated available
   bandwidth (1) based on periodic RTCP feedback reports and Shared
   States.  Based on such information and occupancy level of the
   transmission queue for each sub stream (2), the Rate Controller



Zhu & Sarker             Expires January 3, 2017                [Page 5]

Internet-Draft               RMCAT framework                   July 2016


   divides up the aggregate estimated bandwidth amongst sub-streams
   based on their relative priority levels, and subsequently regulates
   the sending rate of each Transmission Queue (3), target video rate
   (4).  For sake of simplicity the role of network probe is omitted in
   the above figure.

5.  Acknowledgements

   The RMCAT design team discussions contributed to this memo.

6.  IANA Considerations

   This memo includes no request to IANA.

7.  Security Considerations

   TBD

8.  References

8.1.  Normative References

   [I-D.ietf-rmcat-cc-requirements]
              Jesup, R., "Congestion Control Requirements For RMCAT",
              draft-ietf-rmcat-cc-requirements-04 (work in progress),
              April 2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3550]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, RFC 3550, July 2003.

   [RFC3551]  Schulzrinne, H. and S. Casner, "RTP Profile for Audio and
              Video Conferences with Minimal Control", STD 65, RFC 3551,
              July 2003.

   [RFC4585]  Ott, J., Wenger, S., Sato, N., Burmeister, C., and J. Rey,
              "Extended RTP Profile for Real-time Transport Control
              Protocol (RTCP)-Based Feedback (RTP/AVPF)", RFC 4585, July
              2006.

   [RFC5104]  Wenger, S., Chandra, U., Westerlund, M., and B. Burman,
              "Codec Control Messages in the RTP Audio-Visual Profile
              with Feedback (AVPF)", RFC 5104, DOI 10.17487/RFC5104,
              February 2008, <http://www.rfc-editor.org/info/rfc5104>.




Zhu & Sarker             Expires January 3, 2017                [Page 6]

Internet-Draft               RMCAT framework                   July 2016


8.2.  Informative References

   [RFC0768]  Postel, J., "User Datagram Protocol", STD 6, RFC 768, DOI
              10.17487/RFC0768, August 1980,
              <http://www.rfc-editor.org/info/rfc768>.

Authors' Addresses

   Xianqing Zhu
   Cisco Systems
   12515 Research Blvd., Building 4
   Austin, TX  78759
   USA

   Email: xiaoqzhu@cisco.com


   Zaheduzzaman Sarker
   Ericsson AB
   Luleae
   Sweden

   Phone: 00 46 10 717 37 43
   Email: zaheduzzaman.sarker@ericsson.com



























Zhu & Sarker             Expires January 3, 2017                [Page 7]
